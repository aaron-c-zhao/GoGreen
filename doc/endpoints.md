*Preface: If the request does not meet the authorization requirements, the response will be 400; body: "Unauthorized", unless stated otherwise.*

### Achievements :

| Field | Type | Properties |
|-|-|-|
| userName | String | PK |
| achievement | String | |
| achieveData | LocalDateTime | |

| **Endpoint url** | **Method type** | **Input** | **Output** | **Authorization** | **Description** |
|-|-|-|-|-|-|
| /api/achievements | **GET** | *none* | 200, body: List<Achievements> | *any user* | Finds all achiements anyone has ever achieved |
| /api/achievement/{username} | **GET** | *none* (uses url) | body: List<Achievements>; status code: 200 or 404, if list is empty | *any user* | Finds all achiements  of *username*. Note the 404 if the list is empty. |

---

### AddSolarpanels :

| Field | Type | Properties |
|-|-|-|
| userName | String | PK |
| area | float | | 
| date | LocalDate | Nullable |
| panelId | int | Nullable |
| producedKwh | float | Nullable |

| **Endpoint url** | **Method type** | **Input** | **Output** | **Authorization** | **Description** |
|-|-|-|-|-|-|
| /api/addSolarpanels | **GET** | *none* | 200, body: List<AddSolarpanels> | *any user* | Finds all recorded solar panels |
| /api/addSolarpanels/{username} | **GET** | *none* (uses url) | 200, body: AddSolarpanels, or 404, body: "null" if not found | *any user* |  Returns the installed solar panels of *username*. |
| /api/addSolarpanels | **POST** | body: AddSolarpanel (JSON) | 200, body: "Successfully saved solarpanel entry for user : *username*" | be *username* | Sets the solarpanel for user. |

---

### Friend : 
| Field | Type | Properties |
|-|-|-|
| Id | long | PK, autogenerated |
| addTime | LocalDateTime | |
| userName | String | |
| friendName | String | |

| **Endpoint url** | **Method type** | **Input** | **Output** | **Authorization** | **Description** |
|-|-|-|-|-|-|
| /api/friend/{username} | **GET** | *none* (uses url) | body: List<Friend>; status code: 200 or 404, if list is empty | *any user* | Retrieves all friends (as a friend pair, not the user object) of *username* |
| /api/friend/record/{username} | **GET** | header: "limit" (int, optional) | header: "friendAmount" (int) body: List<Records>, status code: 200 or 404, if list is empty. | *any user* | Returns the list of records achieved by all friends. *friendAmount* header contains the number of friends. |
| /api/friend | **POST** | body: Friend (JSON) | 200, body: "successfully added friend", or 208, body: "friendship already exists", or 404, body: "User *friend.friendName* not found" if the requested friend does not exist. | be same as *userName* in body | Adds a friendship pair. Please leave *Id* null. |


---

### User :

| Field | Type |
|-|-|
| username | String, PK |
| password | String |
| email | String, Nullable |
| birth date | LocalDate |
| signup date | LocalDate |


| **Endpoint url** | **Method type** | **Input** | **Output** | **Authorization** | **Description** |
|-|-|-|-|-|-|
| /api/user/findUser/{username}  | **Get** | *none* (uses url) | 200, body: "success" or 404, body: "fail" | *none* | Tells whether the the user {username} exists |
| /api/createUser | **Post** | body: User (JSON) | 200, body: sent user (JSON) or 400, body: "User already exists" | *none* if the user does not exist, *be the same user as in body* to overwrite existing | Adds a new user to the db. The password will be hashed and salted. If the user already exists, the user will be overwritten. | 
| /api/user/{username} | **Delete** | none (uses url) | 200, body: "success" | be *username* | Deletes the user from the db. |

